// Code generated by templ - DO NOT EDIT.

// templ: version: v0.3.960
package pages

//lint:file-ignore SA4006 This context is only used if a nested component is present.

import "github.com/a-h/templ"
import templruntime "github.com/a-h/templ/runtime"

func NumberAnalysis() templ.Component {
	return templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
		templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
		if templ_7745c5c3_CtxErr := ctx.Err(); templ_7745c5c3_CtxErr != nil {
			return templ_7745c5c3_CtxErr
		}
		templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
		if !templ_7745c5c3_IsBuffer {
			defer func() {
				templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
				if templ_7745c5c3_Err == nil {
					templ_7745c5c3_Err = templ_7745c5c3_BufErr
				}
			}()
		}
		ctx = templ.InitializeContext(ctx)
		templ_7745c5c3_Var1 := templ.GetChildren(ctx)
		if templ_7745c5c3_Var1 == nil {
			templ_7745c5c3_Var1 = templ.NopComponent
		}
		ctx = templ.ClearChildren(ctx)
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 1, "<style>\n        @import url('https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;500;700&display=swap');\n        /* Number Analysis Page Styles */\n        .na-grid-layout { display: grid; grid-template-columns: 350px minmax(0, 1fr); gap: 2rem; width: 100%; align-items: start; padding: 0 1rem; }\n        .na-left-col { width: 100%; display: flex; flex-direction: column; align-items: center; position: sticky; top: 2rem; }\n        .na-details-container { padding: 1.5rem; }\n        .na-badge { width: 36px; height: 36px; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; font-size: 15px; border: 2px solid white; box-shadow: 0 2px 4px rgba(0,0,0,0.1); flex-shrink: 0; font-family: 'Kanit', sans-serif; }\n        .na-row { display: flex; align-items: center; gap: 12px; padding: 8px 12px; border-radius: 8px; margin-bottom: 0px; background-color: #FFFFFF; border: 1px solid #E5E7EB; box-shadow: 0 1px 2px rgba(0,0,0,0.05); transition: background-color 0.2s; }\n        .na-row:hover { background-color: #F9FAFB; border-color: #D1D5DB; }\n        .na-row.na-sum { background-color: #FFFBEB; border-color: #FEF08A; }\n        .na-text { flex: 1; min-width: 0; font-size: 13px; color: #1F2937; font-weight: 500; line-height: 1.4; word-wrap: break-word; font-family: 'Kanit', sans-serif; }\n        .na-header { font-size: 13px; font-weight: bold; color: #6B7280; text-transform: uppercase; letter-spacing: 0.05em; margin-bottom: 12px; border-bottom: 1px solid #F3F4F6; padding-bottom: 6px; display: flex; align-items: center; gap: 8px; margin-top: 16px; font-family: 'Kanit', sans-serif; }\n        .na-header svg { width: 14px; height: 14px; }\n        .na-item-grid { display: grid; grid-template-columns: 1fr; gap: 8px; }\n        .na-label-sum { font-size: 12px; color: #D97706; font-weight: bold; text-transform: uppercase; letter-spacing: 0.1em; margin-bottom: 8px; display: flex; align-items: center; gap: 8px; font-family: 'Kanit', sans-serif; }\n        .na-label-sum svg { width: 16px; height: 16px; }\n        .custom-scrollbar::-webkit-scrollbar { width: 6px; }\n        .custom-scrollbar::-webkit-scrollbar-track { background: #f1f1f1; border-radius: 3px; }\n        .custom-scrollbar::-webkit-scrollbar-thumb { background: #d1d5db; border-radius: 3px; }\n        .custom-scrollbar::-webkit-scrollbar-thumb:hover { background: #9ca3af; }\n\n        /* Phone Input Icon Fix */\n        .na-icon-input svg { width: 24px; height: 24px; }\n\n        @keyframes ping {\n            75%, 100% { transform: scale(2); opacity: 0; }\n        }\n\n        /* Golden Text Effect for Perfect Numbers */\n        .perfect-number {\n             background: linear-gradient(to right, #BF953F, #FCF6BA, #B38728, #FBF5B7, #AA771C);\n             background-size: 200% auto;\n             -webkit-background-clip: text;\n             background-clip: text;\n             color: transparent;\n             text-shadow: 0 0 15px rgba(255, 215, 0, 0.3);\n             animation: shine 3s infinite linear;\n             font-weight: 800 !important;\n             display: inline-block;\n             transform: scale(1.05);\n             transition: all 0.5s ease;\n        }\n\n        @keyframes shine {\n            to { background-position: 200% center; }\n        }\n\n        @media (max-width: 768px) {\n            .na-grid-layout { display: flex; flex-direction: column; align-items: center; }\n            .na-left-col { position: static; width: auto; margin-bottom: 2rem; }\n            .na-grid-layout { grid-template-columns: 1fr; }\n        }\n    </style><div class=\"max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8\"><div class=\"text-center\"><h1 class=\"text-3xl font-extrabold text-gray-900 sm:text-4xl\" style=\"font-family: 'Kanit', sans-serif;\">วิเคราะห์เบอร์โทรศัพท์</h1><p class=\"mt-4 max-w-2xl text-xl text-gray-500 mx-auto\" style=\"font-family: 'Kanit', sans-serif;\">ตรวจสอบพลังตัวเลขเบอร์โทรศัพท์ เพื่อเสริมดวงชะตาและชีวิต</p></div><div class=\"mt-12 max-w-lg mx-auto\"><div style=\"display: flex; flex-direction: column; align-items: center; gap: 1rem; margin-top: 1rem; margin-bottom: 2rem;\"><!-- Premium Input Container --><div style=\"position: relative; width: 100%; max-width: 480px; margin: 0 auto;\"><!-- Absolute Icon --><div style=\"position: absolute; left: 20px; top: 50%; transform: translateY(-50%); pointer-events: none; color: #9CA3AF;\"><svg style=\"width: 28px; height: 28px;\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z\"></path></svg></div><!-- Input Field --><input type=\"tel\" name=\"number\" style=\"width: 100%; padding: 20px 60px 20px 64px; font-size: 28px; font-weight: 500; font-family: monospace; letter-spacing: 0.15em; color: #1F2937; background-color: #FFFFFF; border: 2px solid #E5E7EB; border-radius: 16px; box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05); outline: none; transition: all 0.2s ease; box-sizing: border-box;\" placeholder=\"09XXXXXXXX\" maxlength=\"10\" oninput=\"this.style.borderColor = '#4F46E5'; this.style.boxShadow = '0 0 0 4px rgba(79, 70, 229, 0.2)'; window.handlePhoneInput(this);\" onblur=\"this.style.borderColor = '#E5E7EB'; this.style.boxShadow = '0 10px 15px -3px rgba(0, 0, 0, 0.1)';\" onfocus=\"this.style.borderColor = '#4F46E5'; this.style.boxShadow = '0 0 0 4px rgba(79, 70, 229, 0.2)';\" autocomplete=\"off\"><!-- Clear Button (Delete Icon) --><button id=\"clear-phone-input\" onclick=\"window.clearPhoneInput()\" style=\"position: absolute; right: 16px; top: 50%; transform: translateY(-50%); background: #F3F4F6; border: none; border-radius: 50%; width: 36px; height: 36px; display: none; align-items: center; justify-content: center; cursor: pointer; color: #6B7280; transition: all 0.2s; z-index: 10;\" onmouseover=\"this.style.background='#E5E7EB'; this.style.color='#1F2937'\" onmouseout=\"this.style.background='#F3F4F6'; this.style.color='#6B7280'\"><svg style=\"width: 20px; height: 20px;\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\"></path></svg></button></div><!-- Helper Text --><div style=\"display: flex; align-items: center; gap: 10px; font-size: 15px; color: #6B7280; background-color: white; padding: 8px 20px; border-radius: 9999px; border: 1px solid #E5E7EB; box-shadow: 0 1px 2px rgba(0,0,0,0.05);\"><span style=\"display: flex; height: 12px; width: 12px; position: relative;\"><span style=\"position: absolute; display: inline-flex; height: 100%; width: 100%; border-radius: 50%; background-color: #4ADE80; opacity: 0.75; animation: ping 1.5s cubic-bezier(0, 0, 0.2, 1) infinite;\"></span> <span style=\"position: relative; display: inline-flex; border-radius: 50%; height: 12px; width: 12px; background-color: #22C55E;\"></span></span> <span>ระบบวิเคราะห์อัตโนมัติเมื่อครบ 10 หลัก</span></div></div></div><!-- Results Container (Separate from Input, Full Width) --><!-- Results Container (Separate from Input, Full Width) --><div id=\"analysis-results\" style=\"display: none; width: 100%; margin-top: 2rem; flex-direction: column; align-items: center; border: none; box-shadow: none; background: transparent;\" class=\"fade-slide-in\"><!-- Phone Number Header (No Label, No Frame, No Shadow) --><div style=\"text-align: center; margin-bottom: 0; width: 100%; background: transparent; border: none; box-shadow: none;\"><!-- 1. Perfect Number Layout --><div id=\"perfect-layout\" style=\"display: none; flex-direction: column; align-items: center; justify-content: center; margin-bottom: 1.25rem; transition: all 0.7s ease; opacity: 0; transform: scale(0.95); background: transparent;\"><div style=\"position: relative; width: 180px; height: 180px; display: flex; align-items: center; justify-content: center;\"><!-- Premium Wreath Image (Even Smaller) --><img src=\"/images/golden_wheat_wreath.png\" style=\"position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: contain;\" alt=\"Golden Wreath\"><!-- Center Content: The Best + Stars (More Compact) --><div style=\"position: relative; z-index: 2; display: flex; flex-direction: column; align-items: center; justify-content: center; margin-top: -3px;\"><span style=\"font-size: 26px; font-weight: 900; background: linear-gradient(to bottom, #FDE68A, #D97706, #92400E); -webkit-background-clip: text; background-clip: text; color: transparent; text-transform: uppercase; font-family: 'Kanit', sans-serif; letter-spacing: -0.5px;\">The Best</span><div style=\"display: flex; gap: 2px; margin-top: 1px; align-items: center; justify-content: center;\"><span style=\"color: #F59E0B; font-size: 14px;\">★</span> <span style=\"color: #F59E0B; font-size: 14px;\">★</span> <span style=\"color: #F59E0B; font-size: 18px; transform: scale(1.1); position: relative; top: -1px;\">★</span> <span style=\"color: #F59E0B; font-size: 14px;\">★</span> <span style=\"color: #F59E0B; font-size: 14px;\">★</span></div></div></div><!-- Golden Phone Number (Even Smaller) --><h2 id=\"golden-phone-number\" class=\"perfect-number\" style=\"font-size: 36px; font-weight: 800; font-family: monospace; margin-top: -25px; position: relative; z-index: 5; text-shadow: none;\"></h2></div><!-- 2. Normal Layout (Smaller) --><div id=\"normal-layout\" style=\"display: block; width: 100%; text-align: center; background: transparent;\"><h2 id=\"display-phone-number\" style=\"font-size: 32px; font-weight: 700; color: #1F2937; letter-spacing: 0.1em; font-family: monospace; margin: 0;\"></h2></div></div><!-- Grid Layout: Force 2 Columns using CSS --><div style=\"display: flex; flex-wrap: wrap; gap: 2rem; width: 100%; max-width: 1200px; margin: 0 auto;\"><!-- Left Column: Chart + Legend --><div style=\"flex: 0 0 auto; width: 320px; display: flex; flex-direction: column; align-items: center;\"><div class=\"solar-system-container\" style=\"position: relative; width: 320px; height: 320px;\"><style>\n                                    @keyframes solar-spin { from { transform: translate(-50%, -50%) rotate(0deg); } to { transform: translate(-50%, -50%) rotate(360deg); } }\n                                    @keyframes solar-anti-spin { from { transform: rotate(0deg); } to { transform: rotate(-360deg); } }\n                                    @keyframes pulse-sun { 0% { transform: scale(1); box-shadow: 0 0 20px #FFD700; } 50% { transform: scale(1.05); box-shadow: 0 0 40px #FFD700; } 100% { transform: scale(1); box-shadow: 0 0 20px #FFD700; } }\n                                </style><div class=\"solar-system\" style=\"position: relative; width: 100%; height: 100%; display: flex; justify-content: center; align-items: center;\"><!-- Sun (Now displays SUM as Badge only) --><div class=\"sun\" style=\"width: 120px; height: 120px; position: absolute; z-index: 10; background: #FFD700; border-radius: 50%; display: flex; justify-content: center; align-items: center; box-shadow: 0 0 20px #FFD700; animation: pulse-sun 3s infinite;\"><div id=\"sun-sum-badge-box\" class=\"flex flex-col items-center justify-center w-full h-full relative\"><!-- Label removed as requested --></div></div><!-- Orbits --><div class=\"orbit orbit-inner\" style=\"position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 180px; height: 180px; border: 1px dashed #FF9800; border-radius: 50%; opacity: 0.6; pointer-events: none;\"></div><div class=\"orbit orbit-outer\" style=\"position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 280px; height: 280px; border: 1px dashed #FF9800; border-radius: 50%; opacity: 0.4; pointer-events: none;\"></div><!-- Planets Container (Dynamic) --><div id=\"solar-planets-container\"></div></div></div><!-- Legend inside Left Column --><div style=\"text-align: center; color: #6B7280; font-size: 14px; margin-top: 1rem;\"><p style=\"margin: 0;\">วงใน: คู่เลขหลัก | วงนอก: คู่เลขแฝง</p></div></div><!-- Right Column: Meaning Table (Liquid Width) --><div style=\"flex: 1; width: 100%; background: white; border-radius: 0.75rem; box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1); border: 1px solid #F3F4F6; overflow: hidden; display: flex; flex-direction: column; min-width: 0;\"><div style=\"padding: 1.5rem; background: white; border-bottom: 1px solid #F3F4F6;\"><h3 style=\"font-weight: 700; color: #1F2937; font-size: 1.125rem; display: flex; align-items: center; gap: 0.5rem; margin: 0; font-family: 'Kanit', sans-serif;\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" style=\"color: #4F46E5;\"><path d=\"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z\"></path><polyline points=\"14 2 14 8 20 8\"></polyline><line x1=\"16\" y1=\"13\" x2=\"8\" y2=\"13\"></line><line x1=\"16\" y1=\"17\" x2=\"8\" y2=\"17\"></line><polyline points=\"10 9 9 9 8 9\"></polyline></svg> คำทำนายและความหมาย</h3></div><div id=\"analysis-details-container\" style=\"padding: 1.5rem;\"><!-- Dynamic Content will be injected here --></div></div></div></div><script>\n             window.handlePhoneInput = function(e) {\n                  const clearBtn = document.getElementById('clear-phone-input');\n                  if (clearBtn) clearBtn.style.display = e.value.length > 0 ? 'flex' : 'none';\n\n                  let value = e.value.replace(/\\D/g, '');\n                  if (value.length > 10) value = value.slice(0, 10);\n                  e.value = value;\n                  \n                  if (value.length === 10) {\n                      window.performNumberAnalysisV2(value);\n                  } else {\n                      const res = document.getElementById('analysis-results');\n                      if(res) res.style.display = 'none';\n                  }\n             }\n\n             document.addEventListener('DOMContentLoaded', () => {\n                 const urlParams = new URLSearchParams(window.location.search);\n                 const number = urlParams.get('number');\n                 if (number && number.length === 10) {\n                     const input = document.querySelector('input[name=\"number\"]');\n                     if (input) {\n                         input.value = number;\n                         window.handlePhoneInput(input);\n                     }\n                 }\n             });\n\n            window.clearPhoneInput = function() {\n                const input = document.querySelector('input[name=\"number\"]');\n                if (input) {\n                    input.value = '';\n                    input.focus();\n                    window.handlePhoneInput(input);\n                }\n            }\n\n            window.triggerAnalyze = function() {\n                const input = document.querySelector('input[name=\"number\"]');\n                if (input && input.value.length === 10) {\n                    window.performNumberAnalysisV2(input.value);\n                }\n            }\n\n            window.performNumberAnalysisV2 = function(phoneNumber) {\n                fetch(`/api/analyze-number?number=${phoneNumber}`)\n                .then(response => response.json())\n                .then(data => {\n                    const resultsDiv = document.getElementById('analysis-results');\n                    const displayPhoneNumber = document.getElementById('display-phone-number');\n                    const sunSumValue = document.getElementById('sun-sum-value');\n                    const sunSumMeaning = document.getElementById('sun-sum-meaning');\n                    const planetsContainer = document.getElementById('solar-planets-container');\n                    \n                    if(resultsDiv) resultsDiv.style.display = 'flex';\n                    \n                    // 1. Display Phone Number in Header (No Dashes)\n                    let formatted = phoneNumber;\n                    displayPhoneNumber.innerText = formatted;\n\n                    // Perfect Number Logic (Gold Glow)\n                    // Criteria: All Main Pairs + Sum must be Good (Green/Teal colors)\n                    const isGoodColor = (color) => {\n                        if (!color) return false;\n                        const c = color.toUpperCase();\n                        // Backend Colors: #2E7D32 (D10), #43A047 (D8), #66BB6A (D5)\n                        // Frontend Colors: #10B981, #0D9488\n                        return c.includes('2E7D32') || c.includes('43A047') || c.includes('66BB6A') || \n                               c.includes('10B981') || c.includes('0D9488') || c.includes('14B8A6');\n                    };\n                    \n                    const mainPairsData = data.main_pairs || [];\n                    const sumPairData = data.sum_meaning;\n                    \n                    const isMainPerfect = mainPairsData.length > 0 && mainPairsData.every(p => p.meaning && isGoodColor(p.meaning.color));\n                    const isSumPerfect = sumPairData && sumPairData.meaning && isGoodColor(sumPairData.meaning.color);\n\n                    const normalLayout = document.getElementById('normal-layout');\n                    const perfectLayout = document.getElementById('perfect-layout');\n                    const goldenPhoneEl = document.getElementById('golden-phone-number');\n                    \n                    if (isMainPerfect && isSumPerfect) {\n                        // Switch to Perfect Layout\n                        if(normalLayout) normalLayout.style.display = 'none';\n                        if(perfectLayout) {\n                             perfectLayout.style.display = 'flex';\n                             // Small delay to trigger transition\n                             setTimeout(() => {\n                                 perfectLayout.style.opacity = '1';\n                                 perfectLayout.style.transform = 'scale(1)';\n                             }, 50);\n                        }\n                        if(goldenPhoneEl) {\n                             goldenPhoneEl.innerText = formatted;\n                        }\n                    } else {\n                        // Switch to Normal Layout\n                        if(perfectLayout) {\n                             perfectLayout.style.display = 'none';\n                             perfectLayout.style.opacity = '0';\n                             perfectLayout.style.transform = 'scale(0.95)';\n                        }\n                        if(normalLayout) normalLayout.style.display = 'block';\n                        \n                        displayPhoneNumber.innerText = formatted;\n                    }\n                    \n                    // 2. Display Sum in Sun as Badge (Label Removed)\n                    const sunSumContainer = document.getElementById('sun-sum-badge-box');\n                    if(sunSumContainer) sunSumContainer.innerHTML = '';\n\n\n                    if (data.sum_meaning) {\n                        const badge = document.createElement('div');\n                        badge.innerText = data.sum_meaning.pair;\n                        \n                        // Style to match planets but slightly centered\n                        badge.style.width = '44px';\n                        badge.style.height = '44px';\n                        badge.style.borderRadius = '50%';\n                        badge.style.backgroundColor = (data.sum_meaning.meaning && data.sum_meaning.meaning.color) ? data.sum_meaning.meaning.color : '#9E9E9E';\n                        badge.style.color = '#fff';\n                        badge.style.display = 'flex';\n                        badge.style.justifyContent = 'center';\n                        badge.style.alignItems = 'center';\n                        badge.style.fontWeight = 'bold';\n                        badge.style.fontSize = '1.1rem';\n                        badge.style.boxShadow = '0 2px 5px rgba(0,0,0,0.3)';\n                        badge.style.border = '2px solid #fff';\n                        badge.style.zIndex = '30';\n                        badge.style.marginTop = '8px';\n                        badge.style.transition = 'transform 0.2s';\n                        badge.onmouseover = () => badge.style.transform = 'scale(1.1)';\n                        badge.onmouseout = () => badge.style.transform = 'scale(1)';\n                        badge.style.cursor = 'help';\n\n                        if (data.sum_meaning.meaning && data.sum_meaning.meaning.miracle_desc) {\n                             badge.title = \"ผลรวม: \" + data.sum_meaning.meaning.miracle_desc;\n                        }\n\n                        if(sunSumContainer) sunSumContainer.appendChild(badge);\n                    }\n\n                // 3. Render Planets (Keep existing logic)\n                    planetsContainer.innerHTML = '';\n\n                    // Helper to create planet\n                    function createPlanet(item, index, total, isInner) {\n                        const duration = isInner ? 20 : 30; // seconds\n                        const delay = -(index * (duration / total)); \n\n                        const container = document.createElement('div');\n                        container.style.position = 'absolute';\n                        container.style.top = '50%';\n                        container.style.left = '50%';\n                        container.style.transform = 'translate(-50%, -50%)';\n                        container.style.animation = `solar-spin ${duration}s linear infinite`;\n                        container.style.animationDelay = `${delay}s`;\n                        container.style.zIndex = '20';\n                        \n                        // Set size to match orbit diameter\n                        const size = isInner ? '180px' : '280px';\n                        container.style.width = size;\n                        container.style.height = size;\n                        container.style.pointerEvents = 'none';\n\n                        const planet = document.createElement('div');\n                        planet.innerText = item.pair;\n                        planet.style.backgroundColor = (item.meaning && item.meaning.color) ? item.meaning.color : '#9E9E9E';\n                        planet.style.animation = `solar-anti-spin ${duration}s linear infinite`; \n                        planet.style.animationDelay = `${delay}s`;\n                        \n                        // Planet Circle Styles\n                        planet.style.position = 'absolute';\n                        planet.style.top = '-15px'; \n                        planet.style.left = '50%';\n                        planet.style.marginLeft = '-15px'; \n                        planet.style.width = '30px';\n                        planet.style.height = '30px';\n                        planet.style.borderRadius = '50%';\n                        planet.style.display = 'flex';\n                        planet.style.justifyContent = 'center';\n                        planet.style.alignItems = 'center';\n                        planet.style.fontWeight = 'bold';\n                        planet.style.fontSize = '0.9rem';\n                        planet.style.color = '#fff';\n                        planet.style.boxShadow = '0 2px 5px rgba(0,0,0,0.3)';\n                        planet.style.border = '2px solid #fff';\n                        planet.style.pointerEvents = 'auto'; // Enable events on planet\n                        planet.style.cursor = 'pointer';\n                        planet.className = 'transition-transform hover:scale-125';\n                        \n                        if(item.meaning && item.meaning.miracle_desc) {\n                            planet.title = item.meaning.miracle_desc;\n                        }\n\n                        container.appendChild(planet);\n                        return container;\n                    }\n\n                    if (data.main_pairs) data.main_pairs.forEach((item, i) => planetsContainer.appendChild(createPlanet(item, i, data.main_pairs.length, true)));\n                    if (data.hidden_pairs) data.hidden_pairs.forEach((item, i) => planetsContainer.appendChild(createPlanet(item, i, data.hidden_pairs.length, false)));\n\n                    // 4. Render Analysis Details (Sections: Sum, Main, Hidden) - USING CSS CLASSES\n                    const detailsContainer = document.getElementById('analysis-details-container');\n                    \n                    if(detailsContainer) {\n                        detailsContainer.innerHTML = '';\n                        let count = 0;\n\n                        // Helper for Circle Badge\n                        const createBadge = (num, color) => {\n                            const b = document.createElement('div');\n                            b.className = 'na-badge';\n                            b.style.backgroundColor = color || '#9E9E9E';\n                            b.innerText = num;\n                            return b;\n                        };\n\n                        // Helper for Item Row\n                        const createItemRow = (item, isSum = false) => {\n                             const row = document.createElement('div');\n                             row.className = 'na-row' + (isSum ? ' na-sum' : '');\n                             \n                             const badge = createBadge(item.pair, (item.meaning && item.meaning.color) ? item.meaning.color : null);\n                             \n                             const content = document.createElement('div');\n                             content.className = 'na-text';\n                             \n                             const keywords = (item.meaning && item.meaning.keywords && item.meaning.keywords.length > 0) \n                                ? item.meaning.keywords.join(' / ') \n                                : '';\n                             const desc = item.meaning ? (item.meaning.miracle_desc || '-') : '-';\n\n                             let htmlContent = '';\n                             if (keywords) {\n                                htmlContent += `<div style=\"font-weight: 600; color: #1F2937; margin-bottom: 2px; font-size: 14px;\">${keywords}</div>`;\n                                htmlContent += `<div style=\"font-size: 12px; color: #6B7280; font-weight: 400;\">${desc}</div>`;\n                             } else {\n                                htmlContent += `<div style=\"font-weight: 600; color: #1F2937; font-size: 14px;\">${desc}</div>`;\n                             }\n                             content.innerHTML = htmlContent;\n\n                             row.appendChild(badge);\n                             row.appendChild(content);\n                             return row;\n                        };\n\n                        // Helper for Section\n                        const createSection = (title, items, iconSVG, titleColor = '#6B7280') => {\n                            if(!items || items.length === 0) return null;\n                            \n                            const section = document.createElement('div');\n                            const header = document.createElement('h4');\n                            header.className = 'na-header';\n                            header.style.color = titleColor; // Override color only if needed\n                            header.innerHTML = iconSVG + title;\n                            \n                            const grid = document.createElement('div');\n                            grid.className = 'na-item-grid';\n\n                            items.forEach(item => {\n                                grid.appendChild(createItemRow(item));\n                                count++;\n                            });\n\n                            section.appendChild(header);\n                            section.appendChild(grid);\n                            return section;\n                        }\n\n                        // 1. Sum (Top)\n                        if(data.sum_meaning) {\n                             const sumContainer = document.createElement('div');\n                             const label = document.createElement('div');\n                             label.className = 'na-label-sum';\n                             label.innerHTML = '<svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M13 10V3L4 14h7v7l9-11h-7z\"/></svg> ผลรวม (Sum)';\n                             \n                             sumContainer.appendChild(label);\n                             sumContainer.appendChild(createItemRow(data.sum_meaning, true));\n                             \n                             detailsContainer.appendChild(sumContainer);\n                             count++;\n                        }\n\n                        // 2. Main Pairs\n                        const mainSection = createSection(\n                            'คู่เลขหลัก (Main Pairs)', \n                            data.main_pairs, \n                            '<svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10\"/></svg>',\n                            '#4F46E5' // Indigo-600\n                        );\n                        if(mainSection) detailsContainer.appendChild(mainSection);\n\n                        // 3. Hidden Pairs\n                        const hiddenSection = createSection(\n                            'คู่เลขแฝง (Hidden Pairs)', \n                            data.hidden_pairs,\n                            '<svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\" /><path d=\"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z\" /></svg>',\n                            '#6B7280' // Gray-500\n                        );\n                        if(hiddenSection) detailsContainer.appendChild(hiddenSection);\n                    }\n                    \n                })\n                .catch(err => console.error(err));\n            }\n        </script></div>")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		return nil
	})
}

var _ = templruntime.GeneratedTemplate
