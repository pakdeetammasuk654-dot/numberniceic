// Code generated by templ - DO NOT EDIT.

// templ: version: v0.3.977
package admin

//lint:file-ignore SA4006 This context is only used if a nested component is present.

import "github.com/a-h/templ"
import templruntime "github.com/a-h/templ/runtime"

import (
	"fmt"
	"numberniceic/internal/core/domain"
	"strings"
)

func updateColorFromHex(index int) templ.ComponentScript {
	return templ.ComponentScript{
		Name: `__templ_updateColorFromHex_e8ca`,
		Function: `function __templ_updateColorFromHex_e8ca(index){var hexInput = document.getElementById('hex_color_' + index);
	var colorInput = document.getElementById('color_' + index);
	if (hexInput && colorInput) {
		colorInput.value = hexInput.value;
	}
}`,
		Call:       templ.SafeScript(`__templ_updateColorFromHex_e8ca`, index),
		CallInline: templ.SafeScriptInline(`__templ_updateColorFromHex_e8ca`, index),
	}
}

func updateHexFromColor(index int) templ.ComponentScript {
	return templ.ComponentScript{
		Name: `__templ_updateHexFromColor_5bfd`,
		Function: `function __templ_updateHexFromColor_5bfd(index){var hexInput = document.getElementById('hex_color_' + index);
	var colorInput = document.getElementById('color_' + index);
	if (hexInput && colorInput) {
		hexInput.value = colorInput.value;
	}
}`,
		Call:       templ.SafeScript(`__templ_updateHexFromColor_5bfd`, index),
		CallInline: templ.SafeScriptInline(`__templ_updateHexFromColor_5bfd`, index),
	}
}

func closeDropdownOnClickOutside() templ.ComponentScript {
	return templ.ComponentScript{
		Name: `__templ_closeDropdownOnClickOutside_fc6c`,
		Function: `function __templ_closeDropdownOnClickOutside_fc6c(){document.addEventListener('click', function(event) {
		var container = document.getElementById('search-results-container');
		var input = document.getElementById('search-input');
		if (container && input && !container.contains(event.target) && !input.contains(event.target)) {
			container.classList.add('hidden');
		}
	});
}`,
		Call:       templ.SafeScript(`__templ_closeDropdownOnClickOutside_fc6c`),
		CallInline: templ.SafeScriptInline(`__templ_closeDropdownOnClickOutside_fc6c`),
	}
}

func CustomerColorReport(member *domain.Member, username string, recentAssignments []domain.Member, allMembers []domain.Member) templ.Component {
	return templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
		templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
		if templ_7745c5c3_CtxErr := ctx.Err(); templ_7745c5c3_CtxErr != nil {
			return templ_7745c5c3_CtxErr
		}
		templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
		if !templ_7745c5c3_IsBuffer {
			defer func() {
				templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
				if templ_7745c5c3_Err == nil {
					templ_7745c5c3_Err = templ_7745c5c3_BufErr
				}
			}()
		}
		ctx = templ.InitializeContext(ctx)
		templ_7745c5c3_Var1 := templ.GetChildren(ctx)
		if templ_7745c5c3_Var1 == nil {
			templ_7745c5c3_Var1 = templ.NopComponent
		}
		ctx = templ.ClearChildren(ctx)
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 1, "<div class=\"customer-color-container\"><div style=\"margin-bottom: 2rem; display: flex; justify-content: space-between; align-items: flex-start;\"><div><h1 style=\"font-family: 'Kanit', sans-serif; margin-bottom: 0.5rem; color: #333;\">จัดการสีกระเป๋าลูกค้า</h1><div style=\"display: flex; gap: 1rem; align-items: center;\"><a href=\"/admin\" class=\"link-button\" style=\"color: #666; text-decoration: none;\">&larr; กลับไปหน้า Dashboard</a> <a href=\"/admin/send-wallet-notification\" class=\"link-button\" style=\"color: #10b981; text-decoration: none; font-weight: 600; display: flex; align-items: center; gap: 4px;\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"m22 2-7 20-4-9-9-4Z\"></path><path d=\"M22 2 11 13\"></path></svg> ไปหน้าส่งแจ้งเตือน (แบบเลือกสีเอง)</a></div></div></div><!-- New Searchable Selection Section --><div class=\"admin-section-card\" style=\"border-left: 5px solid #007bff;\"><div style=\"display: flex; align-items: center; gap: 1rem; margin-bottom: 1.5rem;\"><div style=\"padding: 0.5rem; background: #ebf8ff; border-radius: 0.5rem; color: #3182ce;\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><circle cx=\"11\" cy=\"11\" r=\"8\"></circle><path d=\"m21 21-4.3-4.3\"></path></svg></div><h3 style=\"margin: 0; font-family: 'Kanit', sans-serif; color: #333;\">ค้นหาและเลือกผู้ใช้งาน</h3></div><div style=\"display: flex; flex-direction: column; gap: 1rem;\"><div style=\"position: relative;\"><div style=\"position: absolute; top: 0; bottom: 0; left: 0; padding-left: 1rem; display: flex; align-items: center; pointer-events: none;\"><svg style=\"width: 18px; height: 18px; color: #a0aec0;\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\"></path></svg></div><input type=\"text\" id=\"user_search_list\" placeholder=\"พิมพ์ชื่อผู้ใช้ หรือ อีเมล เพื่อค้นหา...\" style=\"width: 100%; padding: 0.75rem 0.75rem 0.75rem 2.8rem; border: 2px solid #e2e8f0; border-radius: 0.75rem; font-size: 1rem; transition: all 0.2s; box-sizing: border-box;\" onfocus=\"this.style.borderColor='#3182ce'; this.style.boxShadow='0 0 0 3px rgba(49, 130, 206, 0.1)'\" onblur=\"this.style.borderColor='#e2e8f0'; this.style.boxShadow='none'\"></div><div style=\"display: flex; gap: 1rem;\"><div style=\"flex: 1;\"><select id=\"user_select_list\" size=\"6\" style=\"width: 100%; padding: 0.5rem; border: 2px solid #e2e8f0; border-radius: 0.75rem; font-size: 1rem; outline: none; transition: border-color 0.2s;\"><option value=\"\" disabled selected>-- เลือกสมาชิกที่ต้องการจัดการสีกระเป๋า --</option> ")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		for _, u := range allMembers {
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 2, "<option value=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var2 string
			templ_7745c5c3_Var2, templ_7745c5c3_Err = templ.JoinStringErrs(u.Username)
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `views/pages/admin/customer_color_report.templ`, Line: 78, Col: 34}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var2))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 3, "\" data-search=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var3 string
			templ_7745c5c3_Var3, templ_7745c5c3_Err = templ.JoinStringErrs(fmt.Sprintf("%s %s %s", u.Username, u.Email, u.Tel))
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `views/pages/admin/customer_color_report.templ`, Line: 78, Col: 102}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var3))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 4, "\">")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var4 string
			templ_7745c5c3_Var4, templ_7745c5c3_Err = templ.JoinStringErrs(u.Username)
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `views/pages/admin/customer_color_report.templ`, Line: 79, Col: 21}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var4))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 5, " ")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			if u.Email != "" {
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 6, "(")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				var templ_7745c5c3_Var5 string
				templ_7745c5c3_Var5, templ_7745c5c3_Err = templ.JoinStringErrs(u.Email)
				if templ_7745c5c3_Err != nil {
					return templ.Error{Err: templ_7745c5c3_Err, FileName: `views/pages/admin/customer_color_report.templ`, Line: 81, Col: 20}
				}
				_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var5))
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 7, ")")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 8, "</option>")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 9, "</select></div><div style=\"display: flex; flex-direction: column; gap: 0.5rem; justify-content: center;\"><button type=\"button\" onclick=\"goToSelectedUser()\" class=\"btn-primary\" style=\"padding: 1rem 2rem;\">จัดการข้อมูล</button> <button type=\"button\" onclick=\"location.reload()\" class=\"btn-secondary\" style=\"padding: 0.5rem;\">รีเซ็ต</button></div></div></div><p style=\"font-size: 0.8rem; color: #888; margin-top: 1rem; font-style: italic;\">* เลือกสมาชิกจากรายการแล้วกดปุ่ม \"จัดการข้อมูล\" เพื่อเริ่มระบุสีกระเป๋า</p></div><script>\n\t\t\t(function() {\n\t\t\t\tconst initSearch = () => {\n\t\t\t\t\tconst searchInput = document.getElementById('user_search_list');\n\t\t\t\t\tconst userSelect = document.getElementById('user_select_list');\n\t\t\t\t\tif (!searchInput || !userSelect) return;\n\n\t\t\t\t\tconst allOptions = Array.from(userSelect.options).filter(opt => opt.value !== \"\");\n\n\t\t\t\t\tsearchInput.addEventListener('input', function(e) {\n\t\t\t\t\t\tconst term = e.target.value.toLowerCase().trim();\n\t\t\t\t\t\tuserSelect.innerHTML = '';\n\t\t\t\t\t\t\n\t\t\t\t\t\tconst placeholder = document.createElement('option');\n\t\t\t\t\t\tplaceholder.value = \"\";\n\t\t\t\t\t\tplaceholder.disabled = true;\n\t\t\t\t\t\tplaceholder.text = term === \"\" ? \"-- เลือกสมาชิกที่ต้องการจัดการสีกระเป๋า --\" : \"-- ผลการค้นหา --\";\n\t\t\t\t\t\tuserSelect.appendChild(placeholder);\n\n\t\t\t\t\t\tlet matchCount = 0;\n\t\t\t\t\t\tallOptions.forEach(opt => {\n\t\t\t\t\t\t\tconst searchData = (opt.getAttribute('data-search') || \"\").toLowerCase();\n\t\t\t\t\t\t\tif (searchData.includes(term)) {\n\t\t\t\t\t\t\t\tuserSelect.appendChild(opt.cloneNode(true));\n\t\t\t\t\t\t\t\tmatchCount++;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tif (matchCount === 0) {\n\t\t\t\t\t\t\tconst noResult = document.createElement('option');\n\t\t\t\t\t\t\tnoResult.disabled = true;\n\t\t\t\t\t\t\tnoResult.text = \" ไม่พบข้อมูลสมาชิก...\";\n\t\t\t\t\t\t\tuserSelect.appendChild(noResult);\n\t\t\t\t\t\t} else if (term !== \"\") {\n\t\t\t\t\t\t\tuserSelect.options[1].selected = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t};\n\n\t\t\t\twindow.goToSelectedUser = function() {\n\t\t\t\t\tconst select = document.getElementById('user_select_list');\n\t\t\t\t\tif (select.value) {\n\t\t\t\t\t\twindow.location.href = '/admin/customer-color-report?username=' + encodeURIComponent(select.value);\n\t\t\t\t\t} else {\n\t\t\t\t\t\talert('กรุณาเลือกสมาชิกที่ต้องการจัดการ');\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tif (document.readyState === 'loading') {\n\t\t\t\t\tdocument.addEventListener('DOMContentLoaded', initSearch);\n\t\t\t\t} else {\n\t\t\t\t\tinitSearch();\n\t\t\t\t}\n\t\t\t})();\n\t\t</script>")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		if username != "" {
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 10, "<div id=\"report-result\" style=\"margin-top: 2rem; animation: fadeIn 0.3s ease-out;\">")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			if member == nil {
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 11, "<div class=\"alert-error\"><strong>ไม่พบข้อมูล!</strong> ไม่พบลูกค้าชื่อ \"")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				var templ_7745c5c3_Var6 string
				templ_7745c5c3_Var6, templ_7745c5c3_Err = templ.JoinStringErrs(username)
				if templ_7745c5c3_Err != nil {
					return templ.Error{Err: templ_7745c5c3_Err, FileName: `views/pages/admin/customer_color_report.templ`, Line: 160, Col: 115}
				}
				_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var6))
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 12, "\" ในระบบ</div>")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
			} else {
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 13, "<div class=\"admin-section-card highlight-border\"><h2 style=\"margin-top: 0; margin-bottom: 2rem; font-family: 'Kanit', sans-serif; display: flex; align-items: center; gap: 12px;\">")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				if member.AvatarURL != "" {
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 14, "<img src=\"")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					var templ_7745c5c3_Var7 string
					templ_7745c5c3_Var7, templ_7745c5c3_Err = templ.JoinStringErrs(member.AvatarURL)
					if templ_7745c5c3_Err != nil {
						return templ.Error{Err: templ_7745c5c3_Err, FileName: `views/pages/admin/customer_color_report.templ`, Line: 166, Col: 35}
					}
					_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var7))
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 15, "\" class=\"user-avatar-mini\" style=\"object-fit: cover;\"> ")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
				} else {
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 16, "<div class=\"user-avatar-mini\">")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					var templ_7745c5c3_Var8 string
					templ_7745c5c3_Var8, templ_7745c5c3_Err = templ.JoinStringErrs(getFirstChar(member.Username))
					if templ_7745c5c3_Err != nil {
						return templ.Error{Err: templ_7745c5c3_Err, FileName: `views/pages/admin/customer_color_report.templ`, Line: 168, Col: 69}
					}
					_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var8))
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 17, "</div>")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 18, "<span>กำหนดสีกระเป๋าสำหรับ: <span style=\"color: #007bff;\">")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				var templ_7745c5c3_Var9 string
				templ_7745c5c3_Var9, templ_7745c5c3_Err = templ.JoinStringErrs(member.Username)
				if templ_7745c5c3_Err != nil {
					return templ.Error{Err: templ_7745c5c3_Err, FileName: `views/pages/admin/customer_color_report.templ`, Line: 170, Col: 122}
				}
				_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var9))
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 19, "</span></span></h2><form hx-post=\"/admin/assign-customer-colors\" hx-trigger=\"change delay:500ms from:input, input delay:500ms from:input\" hx-target=\"#save-status\"><input type=\"hidden\" name=\"member_id\" value=\"")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				var templ_7745c5c3_Var10 string
				templ_7745c5c3_Var10, templ_7745c5c3_Err = templ.JoinStringErrs(fmt.Sprintf("%d", member.ID))
				if templ_7745c5c3_Err != nil {
					return templ.Error{Err: templ_7745c5c3_Err, FileName: `views/pages/admin/customer_color_report.templ`, Line: 178, Col: 81}
				}
				_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var10))
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 20, "\"> <input type=\"hidden\" name=\"username\" value=\"")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				var templ_7745c5c3_Var11 string
				templ_7745c5c3_Var11, templ_7745c5c3_Err = templ.JoinStringErrs(member.Username)
				if templ_7745c5c3_Err != nil {
					return templ.Error{Err: templ_7745c5c3_Err, FileName: `views/pages/admin/customer_color_report.templ`, Line: 179, Col: 67}
				}
				_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var11))
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 21, "\"><div class=\"color-grid\">")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				for i := 0; i < 5; i++ {
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 22, "<div class=\"color-item\"><label>สีที่ ")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					var templ_7745c5c3_Var12 string
					templ_7745c5c3_Var12, templ_7745c5c3_Err = templ.JoinStringErrs(fmt.Sprintf("%d", i+1))
					if templ_7745c5c3_Err != nil {
						return templ.Error{Err: templ_7745c5c3_Err, FileName: `views/pages/admin/customer_color_report.templ`, Line: 184, Col: 57}
					}
					_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var12))
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 23, "</label><div class=\"color-picker-wrapper\">")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					templ_7745c5c3_Err = templ.RenderScriptItems(ctx, templ_7745c5c3_Buffer, updateHexFromColor(i+1))
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 24, "<input type=\"color\" id=\"")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					var templ_7745c5c3_Var13 string
					templ_7745c5c3_Var13, templ_7745c5c3_Err = templ.JoinStringErrs(fmt.Sprintf("color_%d", i+1))
					if templ_7745c5c3_Err != nil {
						return templ.Error{Err: templ_7745c5c3_Err, FileName: `views/pages/admin/customer_color_report.templ`, Line: 187, Col: 45}
					}
					_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var13))
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 25, "\" name=\"")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					var templ_7745c5c3_Var14 string
					templ_7745c5c3_Var14, templ_7745c5c3_Err = templ.JoinStringErrs(fmt.Sprintf("color_%d", i+1))
					if templ_7745c5c3_Err != nil {
						return templ.Error{Err: templ_7745c5c3_Err, FileName: `views/pages/admin/customer_color_report.templ`, Line: 188, Col: 47}
					}
					_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var14))
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 26, "\" value=\"")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					var templ_7745c5c3_Var15 string
					templ_7745c5c3_Var15, templ_7745c5c3_Err = templ.JoinStringErrs(getColor(member.AssignedColors, i))
					if templ_7745c5c3_Err != nil {
						return templ.Error{Err: templ_7745c5c3_Err, FileName: `views/pages/admin/customer_color_report.templ`, Line: 189, Col: 54}
					}
					_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var15))
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 27, "\" onchange=\"")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					var templ_7745c5c3_Var16 templ.ComponentScript = updateHexFromColor(i + 1)
					_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ_7745c5c3_Var16.Call)
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 28, "\"></div>")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					templ_7745c5c3_Err = templ.RenderScriptItems(ctx, templ_7745c5c3_Buffer, updateColorFromHex(i+1))
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 29, "<input type=\"text\" id=\"")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					var templ_7745c5c3_Var17 string
					templ_7745c5c3_Var17, templ_7745c5c3_Err = templ.JoinStringErrs(fmt.Sprintf("hex_color_%d", i+1))
					if templ_7745c5c3_Err != nil {
						return templ.Error{Err: templ_7745c5c3_Err, FileName: `views/pages/admin/customer_color_report.templ`, Line: 194, Col: 48}
					}
					_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var17))
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 30, "\" name=\"")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					var templ_7745c5c3_Var18 string
					templ_7745c5c3_Var18, templ_7745c5c3_Err = templ.JoinStringErrs(fmt.Sprintf("hex_color_%d", i+1))
					if templ_7745c5c3_Err != nil {
						return templ.Error{Err: templ_7745c5c3_Err, FileName: `views/pages/admin/customer_color_report.templ`, Line: 195, Col: 50}
					}
					_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var18))
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 31, "\" value=\"")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					var templ_7745c5c3_Var19 string
					templ_7745c5c3_Var19, templ_7745c5c3_Err = templ.JoinStringErrs(getColor(member.AssignedColors, i))
					if templ_7745c5c3_Err != nil {
						return templ.Error{Err: templ_7745c5c3_Err, FileName: `views/pages/admin/customer_color_report.templ`, Line: 196, Col: 53}
					}
					_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var19))
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 32, "\" onchange=\"")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					var templ_7745c5c3_Var20 templ.ComponentScript = updateColorFromHex(i + 1)
					_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ_7745c5c3_Var20.Call)
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 33, "\" class=\"hex-input\"></div>")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 34, "</div><div class=\"form-footer\"><div class=\"notif-status\"><div style=\"margin-right: 20px;\"><span class=\"status-label\">สถานะแจ้งเตือน:</span> ")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				if member.WalletColorsNotifiedAt != nil {
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 35, "<span class=\"status-badge success\">✅ ส่งแล้ว (")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					var templ_7745c5c3_Var21 string
					templ_7745c5c3_Var21, templ_7745c5c3_Err = templ.JoinStringErrs(member.WalletColorsNotifiedAt.Format("02/01/06 15:04"))
					if templ_7745c5c3_Err != nil {
						return templ.Error{Err: templ_7745c5c3_Err, FileName: `views/pages/admin/customer_color_report.templ`, Line: 210, Col: 95}
					}
					_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var21))
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 36, ")</span>")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
				} else {
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 37, "<span class=\"status-badge pending\">ยังไม่เคยส่ง</span>")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 38, "</div><!-- Save Status Indicator --><div id=\"save-status\">")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				if member.AssignedColors != "" && member.AssignedColors != ",,,," {
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 39, "<span class=\"status-badge success\">✅ บันทึกแล้ว</span>")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
				} else {
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 40, "<span class=\"status-badge error\">⚠️ ยังไม่ได้บันทึกสี</span>")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 41, "</div></div><!-- Removed Manual Save Button (Auto-Save Enabled) --><div style=\"font-size: 0.85rem; color: #888; font-style: italic;\">* ระบบบันทึกสีอัตโนมัติเมื่อมีการแก้ไข</div></div></form>")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				if member.AssignedColors != "" && member.AssignedColors != ",,,," {
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 42, "<div class=\"notification-teaser\"><div style=\"flex: 1;\"><h4 style=\"margin: 0 0 5px 0; color: #1e3a8a; font-family: 'Kanit', sans-serif;\">การส่งแจ้งเตือนสีกระเป๋า</h4><p style=\"margin: 0; font-size: 0.9rem; color: #3b82f6;\">คุณสามารถส่งแจ้งเตือนแบบด่วน (Auto) หรือไปหน้าส่งแบบเลือกข้อความเองได้</p></div><div style=\"display: flex; gap: 10px; align-items: center;\"><form action=\"/admin/send-wallet-notification\" method=\"POST\"><input type=\"hidden\" name=\"member_id\" value=\"")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					var templ_7745c5c3_Var22 string
					templ_7745c5c3_Var22, templ_7745c5c3_Err = templ.JoinStringErrs(fmt.Sprintf("%d", member.ID))
					if templ_7745c5c3_Err != nil {
						return templ.Error{Err: templ_7745c5c3_Err, FileName: `views/pages/admin/customer_color_report.templ`, Line: 242, Col: 84}
					}
					_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var22))
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 43, "\"> <input type=\"hidden\" name=\"username\" value=\"")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					var templ_7745c5c3_Var23 string
					templ_7745c5c3_Var23, templ_7745c5c3_Err = templ.JoinStringErrs(member.Username)
					if templ_7745c5c3_Err != nil {
						return templ.Error{Err: templ_7745c5c3_Err, FileName: `views/pages/admin/customer_color_report.templ`, Line: 243, Col: 70}
					}
					_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var23))
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 44, "\"> <button type=\"submit\" class=\"btn-notification\" style=\"background: #64748b;\">ส่งแบบด่วน (Auto Box)</button></form><a href=\"")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					var templ_7745c5c3_Var24 templ.SafeURL
					templ_7745c5c3_Var24, templ_7745c5c3_Err = templ.JoinURLErrs(templ.SafeURL("/admin/send-wallet-notification?user_id=" + fmt.Sprintf("%d", member.ID)))
					if templ_7745c5c3_Err != nil {
						return templ.Error{Err: templ_7745c5c3_Err, FileName: `views/pages/admin/customer_color_report.templ`, Line: 248, Col: 107}
					}
					_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var24))
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 45, "\" class=\"btn-notification\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"m22 2-7 20-4-9-9-4Z\"></path><path d=\"M22 2 11 13\"></path></svg> ส่งแบบกำหนดข้อความเอง</a></div></div>")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 46, "</div>")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 47, "</div>")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 48, "<!-- Recent List --><div style=\"margin-top: 3rem;\"><h3 style=\"font-family: 'Kanit', sans-serif; margin-bottom: 1.5rem; color: #333;\">รายชื่อลูกค้าล่าสุด</h3><div class=\"dashboard-table-container\"><table class=\"dashboard-table\"><thead><tr><th>ID</th><th>Username</th><th>Assigned Colors</th><th>สถานะแจ้งเตือน</th><th style=\"text-align: right;\">Action</th></tr></thead> <tbody>")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		for _, m := range recentAssignments {
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 49, "<tr><td>")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var25 string
			templ_7745c5c3_Var25, templ_7745c5c3_Err = templ.JoinStringErrs(fmt.Sprintf("%d", m.ID))
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `views/pages/admin/customer_color_report.templ`, Line: 277, Col: 37}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var25))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 50, "</td><td style=\"font-weight: 500;\">")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var26 string
			templ_7745c5c3_Var26, templ_7745c5c3_Err = templ.JoinStringErrs(m.Username)
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `views/pages/admin/customer_color_report.templ`, Line: 278, Col: 50}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var26))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 51, "</td><td><div style=\"display: flex; gap: 4px;\">")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			for i := 0; i < 5; i++ {
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 52, "<div class=\"mini-color-circle\" style=\"")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				var templ_7745c5c3_Var27 string
				templ_7745c5c3_Var27, templ_7745c5c3_Err = templruntime.SanitizeStyleAttributeValues("background-color: " + getColor(m.AssignedColors, i))
				if templ_7745c5c3_Err != nil {
					return templ.Error{Err: templ_7745c5c3_Err, FileName: `views/pages/admin/customer_color_report.templ`, Line: 282, Col: 102}
				}
				_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var27))
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 53, "\"></div>")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 54, "</div></td><td>")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			if m.WalletColorsNotifiedAt != nil {
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 55, "<span class=\"status-text-success\">ส่งแล้ว</span>")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
			} else {
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 56, "<span class=\"status-text-muted\">ยังไม่ส่ง</span>")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 57, "</td><td style=\"text-align: right;\"><a href=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var28 templ.SafeURL
			templ_7745c5c3_Var28, templ_7745c5c3_Err = templ.JoinURLErrs(templ.SafeURL("/admin/customer-color-report?username=" + m.Username))
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `views/pages/admin/customer_color_report.templ`, Line: 294, Col: 87}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var28))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 58, "\" class=\"action-link\">แก้ไข/ส่ง</a></td></tr>")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 59, "</tbody></table></div></div></div><style type=\"text/css\">\n\t\t.customer-color-container {\n\t\t\tmax-width: 1000px;\n\t\t\tmargin: 0 auto;\n\t\t\tpadding: 20px;\n\t\t}\n\t\t.admin-section-card {\n\t\t\tbackground: white;\n\t\t\tpadding: 2rem;\n\t\t\tborder-radius: 12px;\n\t\t\tbox-shadow: 0 4px 15px rgba(0,0,0,0.05);\n\t\t\tmargin-bottom: 2rem;\n\t\t}\n\t\t.highlight-border {\n\t\t\tborder-top: 4px solid #007bff;\n\t\t}\n\t\t.btn-secondary {\n\t\t\tpadding: 10px 20px;\n\t\t\tbackground: #f8f9fa;\n\t\t\tborder: 1px solid #ddd;\n\t\t\tborder-radius: 8px;\n\t\t\tcursor: pointer;\n\t\t\tfont-weight: 500;\n\t\t\ttransition: all 0.2s;\n\t\t}\n\t\t.btn-secondary:hover {\n\t\t\tbackground: #e9ecef;\n\t\t}\n\t\t.btn-primary {\n\t\t\tpadding: 12px 30px;\n\t\t\tbackground: #333;\n\t\t\tcolor: white;\n\t\t\tborder: none;\n\t\t\tborder-radius: 8px;\n\t\t\tcursor: pointer;\n\t\t\tfont-weight: 600;\n\t\t\ttransition: all 0.2s;\n\t\t}\n\t\t.btn-primary:hover {\n\t\t\tbackground: #000;\n\t\t\ttransform: translateY(-1px);\n\t\t}\n\t\t.search-results-dropdown {\n\t\t\tposition: absolute;\n\t\t\tz-index: 100;\n\t\t\twidth: 100%;\n\t\t\tmargin-top: 5px;\n\t\t\tbackground: white;\n\t\t\tborder: 1px solid #eee;\n\t\t\tborder-radius: 8px;\n\t\t\tbox-shadow: 0 10px 25px rgba(0,0,0,0.1);\n\t\t\tmax-height: 300px;\n\t\t\toverflow-y: auto;\n\t\t}\n\t\t.color-grid {\n\t\t\tdisplay: grid;\n\t\t\tgrid-template-columns: repeat(auto-fit, minmax(150px, 1fr));\n\t\t\tgap: 20px;\n\t\t\tmargin-bottom: 2rem;\n\t\t}\n\t\t.color-item {\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t\talign-items: center;\n\t\t\tpadding: 15px;\n\t\t\tbackground: #fcfcfc;\n\t\t\tborder: 1px solid #f0f0f0;\n\t\t\tborder-radius: 10px;\n\t\t}\n\t\t.color-item label {\n\t\t\tfont-size: 0.85rem;\n\t\t\tfont-weight: 600;\n\t\t\tcolor: #666;\n\t\t\tmargin-bottom: 10px;\n\t\t}\n\t\t.color-picker-wrapper {\n\t\t\twidth: 60px;\n\t\t\theight: 60px;\n\t\t\tborder-radius: 50%;\n\t\t\toverflow: hidden;\n\t\t\tborder: 3px solid white;\n\t\t\tbox-shadow: 0 0 0 2px #eee;\n\t\t\tmargin-bottom: 10px;\n\t\t}\n\t\t.color-picker-wrapper input[type=\"color\"] {\n\t\t\twidth: 140%;\n\t\t\theight: 140%;\n\t\t\tmargin: -20%;\n\t\t\tcursor: pointer;\n\t\t\tborder: none;\n\t\t}\n\t\t.hex-input {\n\t\t\twidth: 100%;\n\t\t\tpadding: 5px;\n\t\t\ttext-align: center;\n\t\t\tfont-family: monospace;\n\t\t\tborder: 1px solid #eee;\n\t\t\tborder-radius: 4px;\n\t\t\tfont-size: 0.9rem;\n\t\t}\n\t\t.form-footer {\n\t\t\tdisplay: flex;\n\t\t\tjustify-content: space-between;\n\t\t\talign-items: center;\n\t\t\tpadding-top: 2rem;\n\t\t\tborder-top: 1px solid #f0f0f0;\n\t\t}\n\t\t.notif-status {\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tgap: 10px;\n\t\t}\n\t\t.status-label {\n\t\t\tfont-size: 0.9rem;\n\t\t\tcolor: #666;\n\t\t}\n\t\t.status-badge {\n\t\t\tpadding: 4px 12px;\n\t\t\tborder-radius: 20px;\n\t\t\tfont-size: 0.8rem;\n\t\t\tfont-weight: 600;\n\t\t}\n\t\t.status-badge.success { background: #e6f4ea; color: #1e7e34; }\n\t\t.status-badge.pending { background: #f8f9fa; color: #6c757d; }\n\t\t\n\t\t.notification-teaser {\n\t\t\tmargin-top: 2.5rem;\n\t\t\tpadding: 20px;\n\t\t\tbackground: #eff6ff;\n\t\t\tborder-radius: 12px;\n\t\t\tborder: 1px dashed #bfdbfe;\n\t\t\tdisplay: flex;\n\t\t\tjustify-content: space-between;\n\t\t\talign-items: center;\n\t\t\tgap: 20px;\n\t\t}\n\t\t.btn-notification {\n\t\t\tbackground: #2563eb;\n\t\t\tcolor: white;\n\t\t\tborder: none;\n\t\t\tpadding: 12px 25px;\n\t\t\tborder-radius: 8px;\n\t\t\tfont-weight: 700;\n\t\t\tcursor: pointer;\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tgap: 10px;\n\t\t\ttransition: all 0.2s;\n\t\t}\n\t\t.btn-notification:hover {\n\t\t\tbackground: #1d4ed8;\n\t\t\ttransform: scale(1.05);\n\t\t}\n\t\t.user-avatar-mini {\n\t\t\twidth: 36px;\n\t\t\theight: 36px;\n\t\t\tbackground: #eee;\n\t\t\tborder-radius: 50%;\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tjustify-content: center;\n\t\t\tfont-weight: bold;\n\t\t\tcolor: #555;\n\t\t}\n\t\t.mini-color-circle {\n\t\t\twidth: 20px;\n\t\t\theight: 20px;\n\t\t\tborder-radius: 50%;\n\t\t\tborder: 1px solid #eee;\n\t\t}\n\t\t.status-text-success { color: #28a745; font-size: 0.85rem; font-weight: 500; }\n\t\t.status-text-muted { color: #999; font-size: 0.85rem; }\n\t\t.action-link {\n\t\t\ttext-decoration: none;\n\t\t\tcolor: #007bff;\n\t\t\tfont-weight: 600;\n\t\t\tfont-size: 0.85rem;\n\t\t}\n\t\t.action-link:hover { text-decoration: underline; }\n\t\t.alert-error {\n\t\t\tbackground: #fff5f5;\n\t\t\tborder-left: 5px solid #feb2b2;\n\t\t\tcolor: #c53030;\n\t\t\tpadding: 15px 20px;\n\t\t\tborder-radius: 8px;\n\t\t}\n\t\t.hidden { display: none; }\n\t\t\n\t\t@keyframes fadeIn {\n\t\t\tfrom { opacity: 0; transform: translateY(10px); }\n\t\t\tto { opacity: 1; transform: translateY(0); }\n\t\t}\n\t\t\n\t\t/* Mobile responsive */\n\t\t@media (max-width: 768px) {\n\t\t\t.form-footer, .notification-teaser {\n\t\t\t\tflex-direction: column;\n\t\t\t\talign-items: stretch;\n\t\t\t\ttext-align: center;\n\t\t\t}\n\t\t\t.notif-status { justify-content: center; margin-bottom: 20px; }\n\t\t\t.btn-notification { justify-content: center; }\n\t\t}\n\t</style>")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		return nil
	})
}

func getColor(assignedColors string, index int) string {
	parts := strings.Split(assignedColors, ",")
	if index < len(parts) && parts[index] != "" {
		return parts[index]
	}
	return "#E5E7EB"
}

func getFirstChar(s string) string {
	runes := []rune(s)
	if len(runes) > 0 {
		return strings.ToUpper(string(runes[0]))
	}
	return ""
}

func navigateToCustomer(username string) templ.ComponentScript {
	return templ.ComponentScript{
		Name: `__templ_navigateToCustomer_f1d8`,
		Function: `function __templ_navigateToCustomer_f1d8(username){window.location.href = '/admin/customer-color-report?username=' + username;
}`,
		Call:       templ.SafeScript(`__templ_navigateToCustomer_f1d8`, username),
		CallInline: templ.SafeScriptInline(`__templ_navigateToCustomer_f1d8`, username),
	}
}

func SearchUserResults(members []domain.Member) templ.Component {
	return templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
		templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
		if templ_7745c5c3_CtxErr := ctx.Err(); templ_7745c5c3_CtxErr != nil {
			return templ_7745c5c3_CtxErr
		}
		templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
		if !templ_7745c5c3_IsBuffer {
			defer func() {
				templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
				if templ_7745c5c3_Err == nil {
					templ_7745c5c3_Err = templ_7745c5c3_BufErr
				}
			}()
		}
		ctx = templ.InitializeContext(ctx)
		templ_7745c5c3_Var29 := templ.GetChildren(ctx)
		if templ_7745c5c3_Var29 == nil {
			templ_7745c5c3_Var29 = templ.NopComponent
		}
		ctx = templ.ClearChildren(ctx)
		if len(members) == 0 {
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 60, "<div style=\"padding: 15px; color: #888; font-style: italic; text-align: center;\">ไม่พบรายชื่อที่ตรงกับการค้นหา</div>")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
		} else {
			for _, m := range members {
				templ_7745c5c3_Err = templ.RenderScriptItems(ctx, templ_7745c5c3_Buffer, navigateToCustomer(m.Username))
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 61, "<div class=\"search-result-item\" onclick=\"")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				var templ_7745c5c3_Var30 templ.ComponentScript = navigateToCustomer(m.Username)
				_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ_7745c5c3_Var30.Call)
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 62, "\"><div class=\"user-avatar-small\">")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				var templ_7745c5c3_Var31 string
				templ_7745c5c3_Var31, templ_7745c5c3_Err = templ.JoinStringErrs(strings.ToUpper(m.Username[:1]))
				if templ_7745c5c3_Err != nil {
					return templ.Error{Err: templ_7745c5c3_Err, FileName: `views/pages/admin/customer_color_report.templ`, Line: 538, Col: 68}
				}
				_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var31))
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 63, "</div><div style=\"flex: 1;\"><div style=\"font-weight: 600; color: #333;\">")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				var templ_7745c5c3_Var32 string
				templ_7745c5c3_Var32, templ_7745c5c3_Err = templ.JoinStringErrs(m.Username)
				if templ_7745c5c3_Err != nil {
					return templ.Error{Err: templ_7745c5c3_Err, FileName: `views/pages/admin/customer_color_report.templ`, Line: 540, Col: 61}
				}
				_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var32))
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 64, "</div><div style=\"font-size: 0.75rem; color: #777;\">")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				var templ_7745c5c3_Var33 string
				templ_7745c5c3_Var33, templ_7745c5c3_Err = templ.JoinStringErrs(m.Email)
				if templ_7745c5c3_Err != nil {
					return templ.Error{Err: templ_7745c5c3_Err, FileName: `views/pages/admin/customer_color_report.templ`, Line: 541, Col: 60}
				}
				_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var33))
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 65, " • ")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				var templ_7745c5c3_Var34 string
				templ_7745c5c3_Var34, templ_7745c5c3_Err = templ.JoinStringErrs(m.Tel)
				if templ_7745c5c3_Err != nil {
					return templ.Error{Err: templ_7745c5c3_Err, FileName: `views/pages/admin/customer_color_report.templ`, Line: 541, Col: 74}
				}
				_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var34))
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 66, "</div></div></div>")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
			}
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 67, "<style type=\"text/css\">\n\t\t.search-result-item {\n\t\t\tpadding: 12px 15px;\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tgap: 12px;\n\t\t\tcursor: pointer;\n\t\t\tborder-bottom: 1px solid #f5f5f5;\n\t\t\ttransition: background 0.2s;\n\t\t}\n\t\t.search-result-item:last-child { border-bottom: none; }\n\t\t.search-result-item:hover { background: #f0f7ff; }\n\t\t.user-avatar-small {\n\t\t\twidth: 30px;\n\t\t\theight: 30px;\n\t\t\tbackground: #e0e7ff;\n\t\t\tcolor: #4338ca;\n\t\t\tborder-radius: 50%;\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tjustify-content: center;\n\t\t\tfont-weight: bold;\n\t\t\tfont-size: 0.8rem;\n\t\t}\n\t</style>")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		return nil
	})
}

var _ = templruntime.GeneratedTemplate
